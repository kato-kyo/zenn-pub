---
title: "ã€Flutteré–‹ç™ºã€‘ å°å…¥ãƒ¡ãƒ¢ ~ç”»é¢é·ç§»~"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics:  ["flutter"]
published_at: 2023-02-21 11:00
published: true
---
<!-- ãƒ–ãƒ­ã‚°ç§»è¡Œ articles/2023-02-22-flutter-memo-3.md -->

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

- go\_router: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- go\_router\_builder: go\_router ã‚’ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ã«æ‰±ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

* * *

### package

[https://pub.dev/packages/go\_router](https://pub.dev/packages/go_router)

```
flutter pub add go_router
```

#### åˆ©ç”¨æ–¹æ³•

1. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¨˜è¼‰ã™ã‚‹ã€‚
    
    ```
    final GoRouter _router = GoRouter(
    routes: <RouteBase>[  // ã“ã“ã«é…åˆ—å½¢å¼ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¨˜è¼‰ã™ã‚‹
    GoRoute(
      path: '/',ã€€ã€€// REST API ã®è¦é ˜ã§ã€ãƒ‘ã‚¹ã‚’å®šç¾©
      builder: (BuildContext context, GoRouterState state) {
        return const MyHomePage(  // é·ç§»å…ˆã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã€‚
          title: 'title',
        );
      },
    ),
    ],
    );
    ```
    
2. MaterialAppã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’ã€go\_routerã«ç´ã¥ã‘ã‚‹ã€‚
    
    ```
    return MaterialApp.router(
      ....,
      routeInformationParser: _router.routeInformationParser,
      routerDelegate: _router.routerDelegate,
    );
    ```
    
    ãƒã‚¤ãƒ³ãƒˆ
    
    - MaterialApp() ã‚’ã€MaterialApp.route() ã«å¤‰æ›´ã™ã‚‹ã€‚â€» home ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ãŒä½¿ãˆãªããªã‚‹ã®ã§å‰Šé™¤ã™ã‚‹ã€‚
    - routeInformationParser ã¨ã€routerDelegate ã«ã€GoRouterã®ã‚‚ã®ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã€‚

ã“ã®ã‚ˆã†ã«ã™ã‚‹ã¨ã€homeã‚’æŒ‡å®šã—ãªãã¦ã‚‚ã€GoRouterã®åˆæœŸãƒ«ãƒ¼ãƒˆã§ã‚ã‚‹("/")ã«å‰²ã‚Šå½“ã¦ãŸã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«é·ç§»ã™ã‚‹ã€‚

#### é·ç§»æ–¹æ³•

- context.go('/)
- context.push('/) ãªã©ã€‚

* * *

### go\_router\_builder

[https://pub.dev/packages/go\_router\_builder](https://pub.dev/packages/go_router_builder)

#### å°å…¥

```
flutter pub add --dev go_router_builder
```

#### åˆ©ç”¨æ–¹æ³•

1. go\_router ã§ä½œæˆã—ãŸGoRouterã«ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒˆæƒ…å ±ã‚’å®šç¾©ã™ã‚‹ã€‚
    
    ```
    @TypedGoRoute<HomePageRoute>(
    path: '/',
    )
    class HomePageRoute extends GoRouteData {
    const HomePageRoute();
    
    @override
    Widget build(BuildContext context, GoRouterState state) => const MyHomePage();
    }
    ```
    
2. è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã€‚ ãƒ«ãƒ¼ãƒˆæƒ…å ±ã‚’è¨˜è¼‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸Šéƒ¨ã«è¿½è¨˜ã€‚
    
    ```
    part 'router.g.dart';
    ```
    
3. è‡ªå‹•ç”Ÿæˆã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
    
    ```
    lutter pub run build_runner build
    ```
    
4. ãƒ«ãƒ¼ãƒˆæƒ…å ±ã‚’æ›¸ãæ›ãˆã‚‹ã€‚ æ‰‹é †2ã§è¨˜è¼‰ã—ãŸ`router.g.dart`ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã€‚
    
    ```
    final GoRouter router = GoRouter(
    routes: $appRoutes,
    );
    ```
    
    $appRouter ã¯ã€`router.g.dart`ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹å¤‰æ•°ã€‚ ä»¥é™ã€æ‰‹é †1ã§ãƒ«ãƒ¼ãƒˆæƒ…å ±ã‚’æ›´æ–°ã—ãŸã‚‰ã€æ‰‹é †3ã‚’å®Ÿæ–½ã™ã‚‹ã€‚
    

#### é·ç§»æ–¹æ³•

- HomePageRoute().push(context);

go\_router å˜ç‹¬ã«æ¯”ã¹ã¦ã€é·ç§»å…ˆãŒåˆ†ã‹ã‚Šã‚„ã™ããªã£ã¦ã„ã‚‹ã€‚
